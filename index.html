<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- <meta name="viewport" content="width=device-width, user-scalable=yes, initial-scale=0.3, maxmum-scale=1.0, minimum-scale=0.3"> -->
    <title>五行领导力测评</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Microsoft YaHei', sans-serif;
        }
        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            text-align: center;
            padding: 30px 0;
            background: linear-gradient(135deg, #1a237e, #4a148c);
            color: white;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
            /* 调整标题大小 */
        h1 {
            font-size: 2rem;
        }
        h2 {
            font-size: 1.5rem;
        }
        h3 {
            font-size: 1.5rem;
            margin: 15px 0;
            color: #4a148c;
        }
        p {
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        /* 通用图片响应式规则 */
        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
        }
        .intro {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        .qr-section {
            display: flex;
            flex-direction: column;
            align-items: center;
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        .qr-code {
            width: 200px;
            height: 200px;
            background-color: #f0f0f0;
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            color: #666;
            text-align: center;
        }
        .element {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        .element-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 15px;
            color: white;
            font-weight: bold;
        }
        .gold { background-color: #FFD700; }
        .wood { background-color: #228B22; }
        .water { background-color: #1E90FF; }
        .fire { background-color: #FF4500; }
        .earth { background-color: #CD853F; }
        
        .element-desc {
            flex: 1;
        }
        .test-section {
            display: none;
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        .question {
            margin-bottom: 30px;
            display: none;
        }
        .question.active {
            display: block;
        }
        .options {
            margin-top: 15px;
        }
        .option {
            display: block;
            padding: 12px 15px;
            margin-bottom: 10px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .option:hover {
            background-color: #e9e9e9;
        }
        .option.selected {
            background-color: #d1c4e9;
            border-color: #7e57c2;
        }
        .btn {
            display: inline-block;
            padding: 12px 25px;
            background-color: #4a148c;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1.1rem;
            transition: all 0.3s;
            margin-right: 10px;
            margin-top: 20px;
        }
        .btn:hover {
            background-color: #7e57c2;
        }
        .btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        .progress-bar {
            width: 100%;
            height: 10px;
            background-color: #f0f0f0;
            border-radius: 5px;
            margin-bottom: 20px;
            overflow: hidden;
        }
        .progress {
            height: 100%;
            background-color: #4a148c;
            width: 0%;
            transition: width 0.3s;
        }
        .result-section {
            display: none;
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        /* 雷达图容器 */
        .chart-container {
            width: 100%;
            max-width: 600px;
            margin: 0 auto 30px;
            height: auto;
            position: relative;
        }
        .result-type {
            padding: 15px;
            background-color: #f0f0f0;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        .result-detail {
            margin-top: 20px;
        }
        .communication-tips {
            background-color:#fafafa;  /*#e8f5e9;*/
            padding: 5px;
            border-radius: 5px;
            margin-top: 5px;
        }
        .match-results-container {
            background-color:#fafafa;  /*#e8f5e9;*/
            padding: 5px;
            border-radius: 5px;
            margin-top: 5px;
        }
        footer {
            text-align: center;
            padding: 20px;
            color: #666;
            font-size: 0.9rem;
        }
        
        #startTestBtn {
            margin: 30px auto;
            font-size: 1.2rem;
            padding: 15px 30px;
            display: block;
            width: fit-content;
        }
        .center-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 30px 0;
        }

        /* 在现有样式基础上修改以下部分 */
        .balance-analysis-container {
            display: flex;
            align-items: center; /* 电脑端垂直居中 */
            justify-content: space-between;
            margin: 30px 0;
            background: #fafafa;
            padding: 25px;
            border-radius: 10px;
            position: relative;
            min-height: 280px; /* 添加最小高度保证垂直居中效果 */
        }

        .balance-analysis-container img {
            width: 55%;
            max-width: 280px;
            height: auto;
            object-fit: contain; /* 保持图片比例 */
            margin: 0 30px 0 0; /* 仅设置右边距 */
            align-self: center; /* 确保垂直居中 */
        }

        .text-content {
            flex: 1;
            min-width: 50%;
            padding-right: 20px;
        }

        .balance-analysis-container h4 {
            margin-top: 0;
            color: #333;
            font-size: 1.3rem;
            margin-bottom: 15px;
            border-bottom: 2px solid #4a148c;
            padding-bottom: 8px;
            display: inline-block;
        }
        .balance-analysis-container p {
            line-height: 1.2;
            white-space: pre-line;
        }
        
        /* 移动端适配 */
        @media (max-width: 768px) {
            .balance-analysis-container {
                flex-direction: column;
                min-height: auto;
                padding: 15px;
            }

            .balance-analysis-container img {
                width: 100%;
                max-width: none;
                margin: 20px 0 0 0; /* 图片在下 */
                order: 2; /* 通过order控制显示顺序 */
            }

            .text-content {
                width: 100%;
                padding: 0;
                order: 1; /* 文字在上 */
            }

            /* 解决文字溢出问题 */
            .balance-analysis-container p {
                white-space: normal !important; /* 强制正常换行 */
                word-break: break-word; /* 允许单词内断行 */
                font-size: 0.95rem; /* 适当缩小字体 */
                line-height: 1.6; /* 增加行高 */
            }

            .balance-analysis-container h4 {
                font-size: 1.2rem; /* 适当缩小标题 */
            }
        }

        /* 通用文字优化 */
        .balance-analysis-container p {
            text-align: justify; /* 两端对齐 */
            hyphens: auto; /* 自动连字符（支持英文） */
            margin-bottom: 15px;
        }
        

        #restartBtn {
            display: block;
            margin: 20px auto;
            font-size: 1.1rem;
            padding: 12px 25px;
            background-color: #4a148c;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        #restartBtn:hover {
            background-color: #7e57c2;
        }
        /* 新增二维码响应式样式 */
        .qr-section {
            text-align: center;
            padding: 25px 15px;
        }

        .qr-container {
            margin: 20px auto;
            padding: 15px;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            max-width: 280px;
        }

        .qr-image {
            width: 100%;
            height: auto;
            padding: 10px;
            background: #fff;
            border: 1px solid #eee;
            border-radius: 8px;
        }

        .qr-tips {
            margin-top: 15px;
            color: #666;
            font-size: 0.95rem;
        }

        @media (max-width: 768px) {
            .qr-container {
                max-width: 220px;
                padding: 12px;
            }
            
            .qr-image {
                padding: 8px;
            }
            
            .qr-tips {
                font-size: 0.85rem;
            }
        }

        @media (max-width: 480px) {
            .qr-section h2 {
                font-size: 1.4rem;
            }
            
            .qr-container {
                max-width: 200px;
            }
        }

        .network-section {
        margin: 40px 0;
        padding: 25px;
        background: white;
        border-radius: 10px;
        box-shadow: 0 2px 6px rgba(0,0,0,0.1);
        }

        .network-legend {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        margin-top: 20px;
        }

        .legend-item {
        display: flex;
        align-items: center;
        font-size: 0.9rem;
        }

        .legend-color {
        display: inline-block;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        margin-right: 8px;
        border: 1px solid rgba(0,0,0,0.1);
        }

        .projection-legend {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        margin-top: 20px;
        padding: 15px;
        background: #f5f5f5;
        border-radius: 8px;
        }

        .legend-color {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            margin-right: 8px;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>五行领导力测评</h1>
            <p>探索您的五行领导力特质</p>
        </header>

        <section class="intro">
            <h2>测评介绍</h2>
            <p>五行领导力测评基于中国传统五行理论（金、木、水、火、土），结合现代领导力研究，帮助您发现自己的领导风格特质和优势领域。
            本测评包含20道精心设计的问题，涵盖决策力、团队管理、应变能力等多个维度，通过分析您的回答，识别您的领导力类型。</p>
            
            <h3>五行领导力类型</h3>
            <div class="element">
                <div class="element-icon gold">金</div>
                <div class="element-desc">
                    <strong>金型领导力（刚毅决断·规则导向）</strong>：注重规则执行与果断决策，适合需要强管控的场景。"金曰从革"，金具有可塑性和适应性，能够带来秩序和规则。凡具有沉降、肃杀、收敛、清洁、发声等性质和作用的事物或现象，均归属于金。
                </div>
            </div>
            <div class="element">
                <div class="element-icon wood">木</div>
                <div class="element-desc">
                    <strong>木型领导力（成长驱动·团队协作）</strong>：强调人才培养与团队协作，适合创新驱动型组织。"木曰曲直"，木具有能屈能伸、向上向外舒展的特性。凡具有生长、升发、伸展、舒畅等性质和作用的事物或现象，均归属于木。
                </div>
            </div>
            <div class="element">
                <div class="element-icon water">水</div>
                <div class="element-desc">
                    <strong>水型领导力（灵活应变·沟通协调）</strong>：擅长灵活应变与沟通，适合复杂多变的环境。"水曰润下"，水具有滋润、下行的特性。凡具有滋润、下行、寒冷、闭藏等性质和作用的事物或现象，均归属于水。
                </div>
            </div>
            <div class="element">
                <div class="element-icon fire">火</div>
                <div class="element-desc">
                    <strong>火型领导力（激情推动·目标导向）</strong>：注重目标达成与激情驱动，适合攻坚类任务。"火曰炎上"，炎上指火具有炎热、上升、光明的特性。凡具有温热、升腾、明亮等性质和作用的事物或现象，均归属于火。
                </div>
            </div>
            <div class="element">
                <div class="element-icon earth">土</div>
                <div class="element-desc">
                    <strong>土型领导力（稳定包容·文化塑造）</strong>：重视稳定与文化塑造，适合长期战略落地。"土爱稼穑"，土具有播种和收获，即孕育生机、长养万物的特性，故称土载四行，为万物之母。凡具有生化、承载、受纳等性质和作用的事物或现象，均归属于土。
                </div>
            </div>

            <div class="center-container">
                <label for="nameInput">请输入您的姓名：</label>
                <input type="text" id="nameInput" placeholder="您的姓名" required>
            </div>
            
            <button id="startTestBtn" class="btn">开始测评</button>
        </section>

        <section class="qr-section">
            <h2>扫码进入移动端测评</h2>
            <div class="qr-container">
                <img 
                    src="QRCode.png" 
                    alt="五行领导力测评二维码" 
                    class="qr-image"
                    loading="lazy"
                >
            </div>
        </section>

        <section class="test-section" id="testSection">
            <div class="progress-bar">
                <div class="progress" id="progressBar"></div>
            </div>
            <h2>五行领导力测评</h2>
            <p>请根据您的真实想法选择最符合您的选项</p>

            <!-- 问题将通过JavaScript动态加载 -->
            <div id="questionContainer"></div>

            <button class="btn" id="prevBtn" disabled>上一题</button>
            <button class="btn" id="nextBtn">下一题</button>
        </section>

        <section class="result-section" id="resultSection">
            <h2>您的五行领导力分析报告</h2>
            <div class="chart-container">
                <canvas id="resultChart"></canvas>
            </div>
            <div class="result-type" id="resultType">
                <h3>您的主导领导力类型：<span id="primaryType"></span></h3>
                <p id="typeDescription"></p>
            </div>
            <div class="result-detail">
                <h3>五行领导力详细分析</h3>
                <div id="detailedAnalysis"></div>
            </div>
            <div class="communication-tips">
                <h3>沟通建议</h3>
                <h4>与上级沟通</h4>
                <p id="upwardCommunication"></p>
                <h4>与下属沟通</h4>
                <p id="downwardCommunication"></p>
            </div>
            <button class="btn" id="restartBtn">重新测评</button>
        <footer>
            <p>© 2025 五行领导力测评 | 江苏交控人才集团版权所有</p>
        </footer>
    </div>



    <!-- 引入Chart.js库 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- 引入Chart.js DataLabels插件 -->
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>
    <!-- 在 Supabase 库之前引入 Polyfill -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/core-js/3.30.2/minified.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/regenerator-runtime/0.13.11/runtime.min.js"></script>
    <!-- 引入Supabase客户端库 -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- 引入自定义脚本 -->
    <script src="script.js"></script>
</body>
</html>





 <!-- .balance-analysis-container {
    display: flex;
    flex-wrap: wrap; 
    gap: 20px;
    align-items: flex-start;
    margin: 30px 0;
    background: #fafafa;
    padding: 20px;
    border-radius: 8px;
    border: 1px solid #eee;
} */
/* .balance-analysis-container img {
    width: 45%;
    max-width: 280px;
    height: auto;
    border-radius: 5px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
} */


/* .balance-analysis-container .text-content {
    flex: 1;
    min-width: 300px;
}  -->
<!-- /* 移动端适配 */
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }

            /* 雷达图容器 */
            .chart-container {
                height: 280px !important; /* 保持适当高度 */
                max-width: 100%;
            }

            /* 五行平衡容器 */
            .balance-analysis-container {
                flex-direction: column;
                padding: 15px;
            }

            /* 移动端图片样式 */
            .balance-analysis-container img {
                width: 100%;
                max-width: none;
                margin: 15px 0 0 0;
                order: 2; /* 图片在下 */
            }

            /* 文字内容 */
            .text-content {
                min-width: auto;
                width: 100%;
                order: 1; /* 文字在上 */
            } 
    在index.html的<head>中添加Plotly库
    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
    添加数值计算库
    <script src="https://cdn.jsdelivr.net/npm/ml-matrix@6.10.2/lib/index.min.js"></script>
    添加PCA实现库
    <script src="https://cdn.jsdelivr.net/npm/ml-pca@0.0.3/lib/pca.min.js"></script>
    引入vis.js库
    <link href="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis-network.min.js"></script> 

            <section class="network-section">
            <h3>领导力类型关系网络</h3>
            <div id="networkContainer" style="width:100%; height:600px; border:1px solid #ddd"></div>
            <div class="network-legend">
            <div class="legend-item" v-for="type in types"><span class="legend-color" :style="{backgroundColor: type.color}"></span>{{type.label}}</div>
            </div>
        
            
        </section>